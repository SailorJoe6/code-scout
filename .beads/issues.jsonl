{"id":"code_context-0bf","content_hash":"babd25be7002aa2a0e2e0443cb09087a3cc3dc2d652f8d80bdc9e8cae156074c","title":"Implement naive chunking (split by blank lines)","description":"Split Python files into chunks at blank line boundaries. Include file path and line number metadata. Reference: docs/planning/README.md Section 8 Slice 1","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-13T14:53:29.912293-05:00","updated_at":"2025-11-13T15:28:30.178778-05:00","closed_at":"2025-11-13T15:28:30.178778-05:00","source_repo":".","dependencies":[{"issue_id":"code_context-0bf","depends_on_id":"code_context-4k5","type":"discovered-from","created_at":"2025-11-13T14:53:29.913895-05:00","created_by":"jlanders"}]}
{"id":"code_context-0mv","content_hash":"cacc914b4627a785191c0242ddd848ac9c7423d0c67c9691c94a8534d97dd22c","title":"Parallelize embedding generation for performance","description":"Current implementation generates embeddings sequentially (708 chunks took minutes). Code at cmd/code-scout/index.go:64-71 makes synchronous HTTP calls to Ollama one-by-one. Need to parallelize with goroutines and worker pool to generate embeddings concurrently. Target: 10-20x speedup with concurrent requests.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-13T16:34:14.840065-05:00","updated_at":"2025-11-17T04:48:46.508892-08:00","closed_at":"2025-11-17T04:48:46.508892-08:00","source_repo":"."}
{"id":"code_context-3aj","content_hash":"7d70de22af70d2c7b01fdd1342d9738d5081f0a6d9ef8a0a5c01cee1b3f28edb","title":"Implement incremental indexing","description":"Only re-index files that changed since last run. Check file modification times and skip unchanged files. Store metadata about last index time. This will make subsequent runs much faster (0-10s for unchanged codebases instead of minutes).","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-13T16:46:56.533023-05:00","updated_at":"2025-11-13T17:02:31.371103-05:00","closed_at":"2025-11-13T17:02:31.371103-05:00","source_repo":"."}
{"id":"code_context-3kk","content_hash":"7b8ee592ee798707e40ee7283b5e5625cdc6c549e70a4f44306da43d0a014581","title":"Implement Ollama embeddings client","description":"HTTP client for Ollama API. Hardcode endpoint (localhost:11434) and model (code-scout-code). Generate embeddings for text chunks. Reference: docs/planning/README.md Section 8 Slice 1, Section 10.3","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-13T14:53:40.659778-05:00","updated_at":"2025-11-13T15:30:14.615033-05:00","closed_at":"2025-11-13T15:30:14.615033-05:00","source_repo":".","dependencies":[{"issue_id":"code_context-3kk","depends_on_id":"code_context-4k5","type":"discovered-from","created_at":"2025-11-13T14:53:40.661448-05:00","created_by":"jlanders"}]}
{"id":"code_context-468","content_hash":"4f7b662d7f6d8c14b70b987f639df7370ef779d4e7ae582737de656bd3225af9","title":"Set up Go project structure and CLI framework","description":"Initialize Go module, set up basic CLI with cobra/cli library. Commands: 'index' and 'search'. Reference: docs/planning/README.md Section 8 Slice 1","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-13T14:52:51.233711-05:00","updated_at":"2025-11-13T15:25:39.002923-05:00","closed_at":"2025-11-13T15:25:39.002923-05:00","source_repo":".","dependencies":[{"issue_id":"code_context-468","depends_on_id":"code_context-4k5","type":"discovered-from","created_at":"2025-11-13T14:52:51.23522-05:00","created_by":"jlanders"}]}
{"id":"code_context-4k5","content_hash":"8664350a1ab79bf09f19ee9bbea535cf0b0ebece8433d64ec33379953716f433","title":"Slice 1: Simplest End-to-End MVP","description":"","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-13T14:52:40.178311-05:00","updated_at":"2025-11-13T16:24:41.493013-05:00","closed_at":"2025-11-13T16:24:41.493013-05:00","source_repo":"."}
{"id":"code_context-55z","content_hash":"83277688ef64976b606282d2d5d1aee89d097d7cc56dfc45f2e5922ccb8672f5","title":"Implement search command with JSON output","description":"CLI command 'search \u003cquery\u003e --json'. Generate query embedding, use table.VectorSearch() for similarity search, return results as JSON with file paths, line numbers, code snippets, and relevance scores. Build on LanceDB vector_search example. Reference: docs/planning/README.md Section 8 Slice 1, Section 10.6, examples/lancedb/lancedb-vector-search-example.go","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-13T14:54:02.54843-05:00","updated_at":"2025-11-13T16:16:14.995635-05:00","closed_at":"2025-11-13T16:16:14.995635-05:00","source_repo":".","dependencies":[{"issue_id":"code_context-55z","depends_on_id":"code_context-4k5","type":"discovered-from","created_at":"2025-11-13T14:54:02.5501-05:00","created_by":"jlanders"}]}
{"id":"code_context-6cc","content_hash":"d74d0a1eae81b6fc4c8310cd68ee47a823841f74ffc165fdaf8ee8e87a289181","title":"Add Go file scanner support","description":"Extend scanner to support .go files in addition to Python. Add ScanGoFiles() or refactor to ScanCodeFiles() with language detection. Currently only Python is supported via ScanPythonFiles(). Blocks end-to-end test on Go codebase.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-13T16:24:11.015179-05:00","updated_at":"2025-11-13T16:31:56.168008-05:00","closed_at":"2025-11-13T16:31:56.168008-05:00","source_repo":".","dependencies":[{"issue_id":"code_context-6cc","depends_on_id":"code_context-8kg","type":"blocks","created_at":"2025-11-13T16:24:11.017782-05:00","created_by":"jlanders"}]}
{"id":"code_context-7zz","content_hash":"06e4fc326cd3ac6de780e31210b2472a2feee52f67a136699732f44b8647a7e6","title":"Increase default embedding workers","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-13T20:53:56.828018-05:00","updated_at":"2025-11-13T20:54:14.836753-05:00","closed_at":"2025-11-13T20:54:14.836753-05:00","source_repo":"."}
{"id":"code_context-8kg","content_hash":"906cbd4d632d678f93d7c9600aeb91483210ef24eaec8dd48607b908366d34d3","title":"End-to-end test on Python codebase","description":"Test complete workflow: index a Go project, search for functions, verify JSON output contains correct file paths and line numbers. Reference: docs/planning/README.md Section 8.1 MVP Success Criteria","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-13T14:54:12.523346-05:00","updated_at":"2025-11-13T16:24:35.68854-05:00","closed_at":"2025-11-13T16:24:35.68854-05:00","source_repo":".","dependencies":[{"issue_id":"code_context-8kg","depends_on_id":"code_context-4k5","type":"discovered-from","created_at":"2025-11-13T14:54:12.525384-05:00","created_by":"jlanders"}]}
{"id":"code_context-9h5","content_hash":"e81adcad53b3c627df30c95e9acb014da20fb6730c59a9e5b10052f6394a45ea","title":"Collapse duplicate search results","description":"Search currently returns multiple identical chunks (e.g., repeated 'package storage' snippets) because naive blank-line chunking stores nearly identical text. Implement result-level deduplication before returning JSON: group hits by file path + overlapping line ranges + identical code, keep the highest-score entry, and optionally surface a merged hits array. This prevents agents from wasting tokens on redundant chunks.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-13T19:36:26.533903-05:00","updated_at":"2025-11-15T07:06:19.414746-08:00","closed_at":"2025-11-15T07:06:19.414746-08:00","source_repo":".","dependencies":[{"issue_id":"code_context-9h5","depends_on_id":"code_context-rxf","type":"blocks","created_at":"2025-11-13T19:36:58.203422-05:00","created_by":"jlanders"}]}
{"id":"code_context-g0r","content_hash":"a9073d00fdd4c2de52b733f19c08e09f156f7dbe774b7014800c6b7fba106f31","title":"Implement Python file scanner","description":"Recursively scan directory for .py files, build file list. Reference: docs/planning/README.md Section 8 Slice 1","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-13T14:53:19.567986-05:00","updated_at":"2025-11-13T15:27:15.648898-05:00","closed_at":"2025-11-13T15:27:15.648898-05:00","source_repo":".","dependencies":[{"issue_id":"code_context-g0r","depends_on_id":"code_context-4k5","type":"discovered-from","created_at":"2025-11-13T14:53:19.569644-05:00","created_by":"jlanders"}]}
{"id":"code_context-jik","content_hash":"454f3c0fb72fa948fdfaa269d6b7dbd1fef69a5e97a81f49669b4ee37ba1a8e5","title":"Implement LanceDB vector storage","description":"Use lancedb-go to create .code-scout/ directory and store chunks with embeddings. Build on patterns from LanceDB examples. Schema: chunk_id, file_path, line_start, line_end, code, vector (3584-dim float32). Use Arrow builders and FixedSizeList for vectors. Reference: docs/planning/README.md Section 8 Slice 1, examples/lancedb/*.go","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-13T14:53:51.271359-05:00","updated_at":"2025-11-13T16:07:12.42152-05:00","closed_at":"2025-11-13T16:04:03.771092-05:00","source_repo":".","dependencies":[{"issue_id":"code_context-jik","depends_on_id":"code_context-4k5","type":"discovered-from","created_at":"2025-11-13T14:53:51.272881-05:00","created_by":"jlanders"}]}
{"id":"code_context-m3v","content_hash":"dc443f412289ee602f9dd60b3652a9fb0786c9df78c9adbaddb7eba2da90ebc3","title":"Improve progress reporting during indexing","description":"Better visibility into indexing progress: show which file is currently being processed, add estimated time remaining, improve overall UX during long-running operations.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-13T16:47:08.303308-05:00","updated_at":"2025-11-13T16:47:08.303308-05:00","source_repo":".","dependencies":[{"issue_id":"code_context-m3v","depends_on_id":"code_scout-ahu","type":"parent-child","created_at":"2025-11-14T14:00:03.294757-06:00","created_by":"jlanders"}]}
{"id":"code_context-nhm","content_hash":"517c15bd22532a1d305b498050ac0badd3ef911cbd76f6472643a91cfde2b66e","title":"Package platform-specific builds","description":"Enhance build pipeline to produce per-platform distribution bundles that include the correct code-scout binary plus the matching lib directory (darwin_amd64, darwin_arm64, linux_amd64). Each bundle should be self-contained so users can download the right archive and run without setting env vars. Update build scripts to assemble these outputs and document selection/usage in DEVELOPERS.md.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-13T19:41:44.607372-05:00","updated_at":"2025-11-13T20:35:03.751469-05:00","closed_at":"2025-11-13T20:35:03.751469-05:00","source_repo":"."}
{"id":"code_context-nhm.1","content_hash":"d78efde5852cb118bc63c15ed893b7ff02f91fc3a665441703bee2195ff23a35","title":"Add platform launcher wrappers","description":"Bundle each platform build with a small launcher script (macOS: exports DYLD_LIBRARY_PATH, Linux: exports LD_LIBRARY_PATH) that shells out to the real code-scout binary. Rename the Go binary to code-scout.bin, create platform-specific wrappers automatically in build.sh, and update docs so AI agents/users always run the wrapper, ensuring Lance dylibs load even under sandboxed environments.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-13T20:10:46.537489-05:00","updated_at":"2025-11-13T20:38:05.771162-05:00","closed_at":"2025-11-13T20:38:05.771162-05:00","source_repo":"."}
{"id":"code_context-rxf","content_hash":"ef474264519d857f949bd037c5e6039787f85eabddb65a7cdaefcd7de631b5ab","title":"Add content-based deduplication for embeddings","description":"Cache embeddings by code content hash. Skip embedding generation if identical chunk was already embedded. Helps with repeated patterns and reduces redundant API calls to Ollama.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-13T16:47:02.42891-05:00","updated_at":"2025-11-15T06:08:41.731126-08:00","closed_at":"2025-11-15T06:08:41.731126-08:00","source_repo":".","dependencies":[{"issue_id":"code_context-rxf","depends_on_id":"code_scout-ahu","type":"parent-child","created_at":"2025-11-14T13:59:57.521122-06:00","created_by":"jlanders"}]}
{"id":"code_context-x95","content_hash":"a9a76f51614f498097c966cdb0805090245b836fb7fe8b90def4c1d856054230","title":"Download and review LanceDB-go examples","description":"Download all LanceDB-go examples from GitHub to examples/lancedb/. Review patterns for: creating tables with Arrow schemas, inserting data with vectors, and vector search. Document key patterns. Reference: docs/planning/README.md Section 8 Slice 1","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-13T15:51:14.779928-05:00","updated_at":"2025-11-13T16:07:36.986269-05:00","closed_at":"2025-11-13T15:52:51.240953-05:00","source_repo":".","dependencies":[{"issue_id":"code_context-x95","depends_on_id":"code_context-jik","type":"discovered-from","created_at":"2025-11-13T15:51:14.781343-05:00","created_by":"jlanders"}]}
{"id":"code_scout-03p","content_hash":"79708ec991d583598932b0cf2735ed2786f7fb68f5f35e7f05bf75892fb5e908","title":"Tree-sitter infrastructure setup","description":"Add Tree-sitter Go library (github.com/tree-sitter/go-tree-sitter) as dependency. Download and embed Go grammar. Create basic AST parsing infrastructure with sample Go code test. Verify Tree-sitter can parse Go files and return AST nodes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T14:02:45.970868-06:00","updated_at":"2025-11-14T14:17:01.34884-06:00","closed_at":"2025-11-14T14:17:01.34884-06:00","source_repo":".","dependencies":[{"issue_id":"code_scout-03p","depends_on_id":"code_scout-5wc","type":"parent-child","created_at":"2025-11-14T14:03:30.151194-06:00","created_by":"jlanders"}]}
{"id":"code_scout-0a9","content_hash":"b34fc324ab09dcd9613c2aaa2d09e1b4c245b338f2f6dbd641402656d774c6c3","title":"Fix OpenRouter endpoint documentation in recent commit","description":"The recent commit (docs: Add OpenRouter.ai configuration and quick start guide) documented the wrong OpenRouter endpoint. It shows 'https://openrouter.ai/api/v1' but since the client.go code appends '/v1/embeddings', the config should use 'https://openrouter.ai/api'.\n\nAdditionally, the documentation incorrectly suggests OpenRouter hosts nomic-ai models, but they don't. Need to update docs to reflect:\n1. Correct endpoint: https://openrouter.ai/api (not /api/v1)\n2. Clarify OpenRouter does NOT have nomic-ai models\n3. Show paid alternatives: mistralai/codestral-embed-2505 for code\n4. Add note that this is a paid option, not free\n\nFiles to fix:\n- README.md (OpenRouter Quick Start section)\n- .code-scout.json.example (endpoint and model names)\n\nThis is lower priority since we're pivoting to TGI as the recommended option anyway.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-18T05:09:37.897835-08:00","updated_at":"2025-11-18T06:48:47.38668-08:00","closed_at":"2025-11-18T06:48:47.38668-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-0a9","depends_on_id":"code_scout-scm","type":"discovered-from","created_at":"2025-11-18T05:09:37.899339-08:00","created_by":"jlanders"}]}
{"id":"code_scout-0r5","content_hash":"18bca6e06a5197d61fac90e418dfcaa3045fbe18f2f0776bae750df4503a3e1c","title":"Integrate language detection with semantic chunker","description":"Update semantic chunker to use DetectLanguage() and NewParser() for all supported languages. Replace Go-only logic with language-agnostic code that works with all 11 languages.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-17T05:53:47.267876-08:00","updated_at":"2025-11-17T14:00:50.196167-08:00","closed_at":"2025-11-17T14:00:50.196167-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-0r5","depends_on_id":"code_scout-72w","type":"discovered-from","created_at":"2025-11-17T05:53:47.269464-08:00","created_by":"jlanders"}]}
{"id":"code_scout-1oh","content_hash":"fd6d7c50510bf9c533d9db772442aa7633502d65c53ccf80a896c27748bc09d4","title":"Extract Go functions as semantic chunks","description":"Write Tree-sitter S-expression query to identify Go function definitions. Extract function name, signature, and body as single chunk. Include function doc comments if present. Handle method receivers correctly. Return chunks with line number ranges.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-14T14:02:51.884502-06:00","updated_at":"2025-11-14T14:20:13.656568-06:00","closed_at":"2025-11-14T14:20:13.656568-06:00","source_repo":".","dependencies":[{"issue_id":"code_scout-1oh","depends_on_id":"code_scout-5wc","type":"parent-child","created_at":"2025-11-14T14:03:35.991823-06:00","created_by":"jlanders"},{"issue_id":"code_scout-1oh","depends_on_id":"code_scout-03p","type":"blocks","created_at":"2025-11-14T14:04:15.946194-06:00","created_by":"jlanders"}]}
{"id":"code_scout-1x8","content_hash":"456c2303dd19958e8529f6d4b17c68101f2491595c8f6ff7d306d007f99d1db6","title":"Configurable embedding API endpoint","description":"Allow code-scout to point at alternative OpenAI-compatible embedding services (OpenRouter, remote GPU hosts, etc.) instead of hard-coding http://localhost:11434.\\n\\nRequirements:\\n- Make endpoint configurable via CLI flags and/or env vars for both indexing and search\\n- Document defaults (Ollama) and how to override\\n- Ensure worker pools reuse clients per endpoint\\n- Add validation/error messages when endpoint is unreachable","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-16T18:09:48.137455-08:00","updated_at":"2025-11-17T05:08:24.719645-08:00","closed_at":"2025-11-17T05:08:24.719645-08:00","source_repo":"."}
{"id":"code_scout-22i","content_hash":"61350fa1b01fe8181303afdf5afa63eea8b5d162a6e45be3b9de8c88ff7b5927","title":"Add embedding_type field to schema and chunks","description":"Update schema and data structures to track which embedding model was used for each chunk.\n\nImplementation:\n- Add embedding_type field to Chunk struct ('code' or 'docs')\n- Update LanceDB schema with embedding_type column\n- Modify chunking pipeline to set embedding_type based on file type\n- Update StoreChunks() to write embedding_type\n- Update Search() to filter by embedding_type if specified\n- Ensure backward compatibility (default to 'code' for existing chunks)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T13:50:30.102271-08:00","updated_at":"2025-11-16T14:24:46.32466-08:00","closed_at":"2025-11-16T14:24:46.324664-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-22i","depends_on_id":"code_scout-w9i","type":"blocks","created_at":"2025-11-16T13:50:40.316463-08:00","created_by":"jlanders"}]}
{"id":"code_scout-22p","content_hash":"d112b3cb73bfcb93996a53afc8286c4809391cb723ee87f3a5eb60d8e2878d13","title":"Implement markdown header-based chunking","description":"Create markdown chunker in internal/chunker/ that splits markdown files by headers (H1/H2/H3).\n\nImplementation:\n- Parse markdown to identify header boundaries\n- Extract sections with header hierarchy context\n- Preserve code blocks and formatting within sections\n- Include metadata: heading text, level, file path\n- Handle edge cases (no headers, nested headers, etc.)\n- Add tests with sample markdown files\n\nChunk metadata should include:\n- heading: 'Authentication Overview'\n- heading_level: 2\n- parent_heading: 'System Architecture' (if nested)\n- file_path, line_start, line_end","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T13:47:57.924151-08:00","updated_at":"2025-11-16T14:19:16.166515-08:00","closed_at":"2025-11-16T14:19:16.166515-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-22p","depends_on_id":"code_scout-bqv","type":"blocks","created_at":"2025-11-16T13:48:06.12406-08:00","created_by":"jlanders"}]}
{"id":"code_scout-276","content_hash":"c5f84c5370328f308f8e0f494c8b41e8e76f02c693ef7ff43a00841ff7273d24","title":"Implement TEI wrapper with model hot-swapping and pre-loading","description":"Build a lightweight HTTP wrapper around TEI that provides Ollama-like model hot-swapping while enabling use of the full nomic-embed-code (7B) model with better performance.\n\n**Why This Wrapper:**\n\n**Problem with running two TEI instances:**\n- nomic-embed-code (7B) uses ~4-8GB RAM per instance\n- Running both code + text models = ~8-16GB RAM total\n- Too heavy for many development machines\n\n**Problem with Ollama:**\n- No real concurrency for batching\n- Model switching overhead kills performance with --workers \u003e2\n\n**Solution: Smart TEI Wrapper:**\n- Single TEI process, one model loaded at a time\n- Wrapper detects model switch requests\n- Stops TEI, restarts with new model\n- Pre-loads next model in background after pass completes\n- Better performance than Ollama, lower memory than dual TEI\n\n**Requirements:**\n\n1. **OpenAI API Compatibility**\n   - Expose POST /v1/embeddings endpoint\n   - Accept OpenAI request format: {\"model\": \"...\", \"input\": [...]}\n   - Return OpenAI response format\n   - Support Authorization header (pass-through or optional)\n\n2. **Model Management**\n   - Track currently loaded model\n   - Detect when requested model differs from loaded\n   - Stop current TEI process gracefully\n   - Start new TEI process with requested model\n   - Cache model load state\n   - Handle concurrent requests during model switching (queue or reject)\n\n3. **Background Pre-loading**\n   - After code pass completes, detect pattern\n   - Pre-load text model in background\n   - After text pass completes, detect pattern\n   - Pre-load code model in background\n   - Configurable pre-load behavior (on/off, which model)\n\n4. **TEI Integration**\n   - Manage TEI process lifecycle (start/stop/restart)\n   - Forward embedding requests to TEI\n   - Handle TEI startup time (~2-3 seconds)\n   - Graceful error handling (TEI crashes, OOM, etc.)\n\n5. **Configuration**\n   - TEI binary path (default: text-embeddings-router)\n   - TEI port (default: 8080, internal)\n   - Wrapper listen port (default: 11434, Ollama-compatible)\n   - Model mappings (alias support)\n   - Pre-load settings\n\n6. **Performance**\n   - Queue requests during model switching\n   - Return 503 with Retry-After header during switch\n   - Minimal overhead when model already loaded\n   - Connection pooling to TEI\n\n**Tech Stack:**\n- Language: Go (matches code-scout codebase)\n- Framework: net/http or gin-gonic/gin\n- Location: cmd/tei-wrapper/\n\n**Models Supported:**\n- nomic-ai/nomic-embed-code (7B, 26GB) - code embeddings\n- nomic-ai/nomic-embed-text-v1.5 (137M, 262MB) - text embeddings\n- nomic-ai/CodeRankEmbed (137M, 521MB) - alternative code embeddings\n\n**Success Criteria:**\n- code-scout index works with wrapper exactly like Ollama\n- Wrapper auto-switches between models as needed\n- Pre-loading reduces subsequent pass startup time to near-zero\n- Memory usage: single model at a time (~4-8GB max)\n- Performance: Better than Ollama (higher concurrency)\n- Clear error messages and status reporting\n\n**Implementation Notes:**\n- Use os/exec to manage TEI process\n- Signal handling for graceful shutdown\n- Health check endpoint for monitoring\n- Logging for debugging model switches","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:12:49.766481-08:00","updated_at":"2025-11-18T09:12:49.766481-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-276","depends_on_id":"code_scout-scm","type":"discovered-from","created_at":"2025-11-18T09:12:49.769104-08:00","created_by":"jlanders"}]}
{"id":"code_scout-3z7","content_hash":"8b074e2ef15dd070aa0a824fbbaf6964607030363d76752dc964d43e3d10c339","title":"Integrate Tree-sitter chunker into indexing pipeline","description":"Replace naive chunker with Tree-sitter chunker for Python files. Update LanceDB schema to include new metadata fields. Ensure backward compatibility with existing databases. Add configuration flag to toggle between naive and semantic chunking (for testing). Update index command to use semantic chunking by default.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T14:03:09.680552-06:00","updated_at":"2025-11-14T14:48:41.098422-06:00","closed_at":"2025-11-14T14:48:41.098422-06:00","source_repo":".","dependencies":[{"issue_id":"code_scout-3z7","depends_on_id":"code_scout-5wc","type":"parent-child","created_at":"2025-11-14T14:03:53.576335-06:00","created_by":"jlanders"},{"issue_id":"code_scout-3z7","depends_on_id":"code_scout-1oh","type":"blocks","created_at":"2025-11-14T14:04:33.498194-06:00","created_by":"jlanders"},{"issue_id":"code_scout-3z7","depends_on_id":"code_scout-cjx","type":"blocks","created_at":"2025-11-14T14:04:39.133145-06:00","created_by":"jlanders"},{"issue_id":"code_scout-3z7","depends_on_id":"code_scout-qe4","type":"blocks","created_at":"2025-11-14T14:04:44.804174-06:00","created_by":"jlanders"}]}
{"id":"code_scout-4he","content_hash":"08ae14f8699fba4532708b5d6d715a29b3aa2abd3c895598c0fb5eeea7576218","title":"Implement dual-query retrieval logic","description":"Implement hybrid search that queries both embedding models and merges results.\n\nImplementation in cmd/code-scout/search.go or internal/search/:\n- For --code mode: Query with code-scout-code model, filter embedding_type='code'\n- For --docs mode: Query with code-scout-text model, filter embedding_type='docs'\n- For --hybrid mode:\n  1. Generate query embedding with code-scout-code model\n  2. Search code chunks (embedding_type='code')\n  3. Generate query embedding with code-scout-text model\n  4. Search docs chunks (embedding_type='docs')\n  5. Merge results, sort by relevance score\n  6. Apply deduplication and limit\n- Handle different vector dimensions gracefully\n- Return unified result set with metadata indicating source","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T13:51:54.812814-08:00","updated_at":"2025-11-17T04:55:26.202757-08:00","closed_at":"2025-11-17T04:55:26.202757-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-4he","depends_on_id":"code_scout-w9i","type":"blocks","created_at":"2025-11-16T13:52:04.114156-08:00","created_by":"jlanders"},{"issue_id":"code_scout-4he","depends_on_id":"code_scout-5uo","type":"blocks","created_at":"2025-11-16T13:52:09.826705-08:00","created_by":"jlanders"},{"issue_id":"code_scout-4he","depends_on_id":"code_scout-t7a","type":"blocks","created_at":"2025-11-16T13:52:15.510747-08:00","created_by":"jlanders"}]}
{"id":"code_scout-5uo","content_hash":"c22d368e02cb5840921b07fe114a6dacd9beeeb925aaa117767e7b14e21d3f22","title":"Add search mode flags (--code, --docs, --hybrid)","description":"Implement CLI flags for search mode selection in cmd/code-scout/search.go.\n\nImplementation:\n- Add --code flag (search code embeddings only)\n- Add --docs flag (search docs embeddings only)\n- Add --hybrid flag (search both, merge results) - default behavior\n- Flags are mutually exclusive\n- Update search command to filter by embedding_type based on mode\n- For hybrid mode, query both models and merge results by relevance score\n- Update JSON output to include 'mode' field\n- Add short flags: -c, -d for convenience","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T13:51:27.079577-08:00","updated_at":"2025-11-17T04:55:20.344545-08:00","closed_at":"2025-11-17T04:55:20.344545-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-5uo","depends_on_id":"code_scout-w9i","type":"blocks","created_at":"2025-11-16T13:51:36.435384-08:00","created_by":"jlanders"},{"issue_id":"code_scout-5uo","depends_on_id":"code_scout-t7a","type":"blocks","created_at":"2025-11-16T13:51:42.118222-08:00","created_by":"jlanders"}]}
{"id":"code_scout-5wc","content_hash":"c43dccf6d0d9311b0d9ffbdc738d931858fb2ccbe2c57a4f71df47bf43ccb0f2","title":"Slice 2: Semantic Code Chunking with Tree-sitter","description":"Replace naive blank-line chunking with Tree-sitter-based semantic chunking for Go. Extract functions, structs, interfaces, and methods as complete semantic units with proper metadata (doc comments, imports, receiver context). Significantly improves search relevance by returning whole functions instead of arbitrary text blocks. Dogfooding on code-scout itself.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-14T14:02:24.220093-06:00","updated_at":"2025-11-14T14:53:54.885194-06:00","closed_at":"2025-11-14T14:53:54.885194-06:00","source_repo":"."}
{"id":"code_scout-5xk","content_hash":"4ef727baf0d58fc2865056075b0efc3302e7d13eeb22491397d2cf94e4b5f0c2","title":"Implement background embedding daemon with file watcher","description":"Create a background daemon that automatically re-indexes the codebase on file changes, eliminating the need for AI agents to trigger indexing manually.\n\n**Why Background Daemon:**\n\n**Current UX:**\n- AI agents must remember to run 'code-scout index' after changes\n- Interrupts workflow, adds cognitive overhead\n- Easy to forget, leading to stale search results\n- Manual CLI trigger required\n\n**Improved UX with Daemon:**\n- AI agents only use 'code-scout search'\n- Indexing happens automatically in background\n- Always-fresh search results\n- Manual trigger still available for git hooks, manual control\n\n**Requirements:**\n\n1. **File Watching**\n   - Monitor repository for file changes (create, modify, delete)\n   - Respect .code-scout-ignore patterns\n   - Watch code file extensions (.go, .py, .js, .ts, .java, .rs, etc.)\n   - Watch documentation files (.md, .txt, .rst)\n   - Debounce: Wait for file activity to settle before indexing\n\n2. **Debouncing Strategy**\n   - Wait N seconds after last file change (default: 5s)\n   - If more changes during wait, reset timer\n   - Prevents re-indexing during active editing\n   - Configurable debounce interval\n\n3. **Incremental Indexing**\n   - Only re-index changed files when possible\n   - Full re-index on major changes (schema, config)\n   - Track file modification times\n   - Content-based deduplication (already implemented)\n\n4. **Daemon Lifecycle**\n   - Start: 'code-scout daemon start'\n   - Stop: 'code-scout daemon stop'\n   - Status: 'code-scout daemon status'\n   - Logs: 'code-scout daemon logs'\n   - Auto-start on first search if not running?\n\n5. **Process Management**\n   - Background process (fork/daemon)\n   - PID file in .code-scout/daemon.pid\n   - Graceful shutdown (SIGTERM)\n   - Crash recovery (auto-restart?)\n   - Manages TEI wrapper lifecycle if used\n\n6. **Configuration**\n   - Daemon enabled/disabled flag\n   - Debounce interval (default: 5s)\n   - File patterns to watch\n   - Indexing concurrency (--workers, --batch-size)\n   - Log level and output\n\n7. **Status Reporting**\n   - Current status (idle, watching, indexing)\n   - Last index time\n   - Files watched count\n   - Pending changes count\n   - TEI wrapper status\n\n8. **Integration with TEI Wrapper**\n   - If TEI wrapper is running, use it\n   - If not, start it automatically\n   - Manage wrapper lifecycle\n   - Handle wrapper failures gracefully\n\n**Tech Stack:**\n- Language: Go\n- File watcher library: fsnotify or similar\n- Location: cmd/code-scout/daemon.go (new subcommand)\n\n**Commands:**\n\n\n**Success Criteria:**\n- Daemon detects file changes within 1 second\n- Re-indexing starts 5 seconds after last change\n- Only changed files are re-indexed (incremental)\n- AI agents can search without ever running index\n- Manual 'code-scout index' still works (bypasses daemon)\n- Daemon survives TEI wrapper crashes/restarts\n- Clear status reporting for debugging\n\n**Implementation Notes:**\n- Use fsnotify for cross-platform file watching\n- Store daemon PID in .code-scout/daemon.pid\n- Logs to .code-scout/daemon.log\n- Signal handling for graceful shutdown (SIGTERM, SIGINT)\n- Consider systemd integration for Linux\n- Consider launchd integration for macOS\n\n**Future Enhancements:**\n- Git-aware: Only index on commit/branch switch\n- Remote daemon: Watch remote repos over SSH\n- Multi-repo support: One daemon, many repos\n- Web UI for status monitoring\n- Metrics: Files indexed, search latency, etc.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-18T09:13:45.712089-08:00","updated_at":"2025-11-18T09:13:45.712089-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-5xk","depends_on_id":"code_scout-scm","type":"discovered-from","created_at":"2025-11-18T09:13:45.713544-08:00","created_by":"jlanders"}]}
{"id":"code_scout-72w","content_hash":"8185f92fd4034add1983f752bb2009e808cde3f0057f1db890153d414c7f85db","title":"Slice 4: Multi-Language Support","description":"Add support for Python, JavaScript/TypeScript, Java, Rust, C, C++, Ruby, PHP, and Scala. Each language needs parser factory, Tree-sitter queries, language detection with C/C++ heuristics, semantic chunker integration, and tests. See docs/language-detection.md for C/C++ disambiguation strategy.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-17T05:38:38.174714-08:00","updated_at":"2025-11-17T14:27:28.031312-08:00","closed_at":"2025-11-17T14:27:28.031312-08:00","source_repo":"."}
{"id":"code_scout-9e0","content_hash":"0a21ba16a7c466be1f1bf29a1ec432231dfcd48679e9ccedb71c1bc84994060b","title":"Create code-scout-text Ollama model","description":"Create second Ollama model for text embeddings using nomic-embed-text.\n\nImplementation:\n- Create ollama-models/code-scout-text.Modelfile\n- Base on nomic-embed-text\n- Set num_ctx to 8192 (sufficient for docs)\n- Set num_batch to 512\n- Document model creation in README.md\n- Add to QUICKSTART.md setup instructions\n\nModelfile content:\nFROM nomic-embed-text\nPARAMETER num_ctx 8192\nPARAMETER num_batch 512","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T13:50:09.320421-08:00","updated_at":"2025-11-17T04:55:08.399476-08:00","closed_at":"2025-11-17T04:55:08.399476-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-9e0","depends_on_id":"code_scout-w9i","type":"blocks","created_at":"2025-11-16T13:50:17.857902-08:00","created_by":"jlanders"}]}
{"id":"code_scout-9g5","content_hash":"e3952dac2bfe5c69dd624b4b3339a201a5e6df16a326149c03131c721af5013e","title":"Update LanceDB schema for documentation chunks","description":"Extend vector database schema to support documentation-specific metadata.\n\nImplementation:\n- Add chunk_type field to distinguish 'code' vs 'docs' chunks\n- Add heading, heading_level, parent_heading fields for markdown\n- Ensure backward compatibility with existing code chunks\n- Update StoreChunks() to handle new metadata fields\n- Update Search() to return all metadata\n- Add migration notes in docs/","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T13:48:44.053537-08:00","updated_at":"2025-11-17T04:50:55.982331-08:00","closed_at":"2025-11-17T04:50:55.982331-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-9g5","depends_on_id":"code_scout-bqv","type":"blocks","created_at":"2025-11-16T13:48:52.564408-08:00","created_by":"jlanders"}]}
{"id":"code_scout-a11","content_hash":"de378069cb6c1a77d6ba5c631f8dd7e00e261fbb80b152321703f14bd749658b","title":"Document TEI-first architecture with wrapper and daemon","description":"Create comprehensive documentation for the TEI-first self-hosting architecture, including the TEI wrapper and background daemon.\n\n**Documentation Sections:**\n\n## TEI Setup - Cross-Platform\n\n1. **TEI Overview**\n   - Why TEI for all platforms (not just M2)\n   - Mac: Metal acceleration (fastest even without CUDA)\n   - Linux/Windows with NVIDIA: Blazingly fast with CUDA\n   - Purpose-built for embeddings (outperforms vLLM)\n\n2. **Installation**\n   - Mac (Metal): cargo install with Metal support\n   - Linux/Windows (CUDA): Docker or cargo with CUDA\n   - Verify installation and GPU detection\n\n3. **Model Selection**\n   - nomic-embed-code (7B, 26GB) - best accuracy\n   - CodeRankEmbed (137M, 521MB) - best for memory-constrained\n   - nomic-embed-text-v1.5 (137M, 262MB) - docs\n   - Performance vs memory trade-offs\n\n4. **Deployment Options**\n   - Option A: Two TEI instances (code + text models, ~8-16GB RAM)\n   - Option B: TEI wrapper (single model, hot-swap, ~4-8GB RAM)\n   - Option C: Ollama (simple but slow, not recommended)\n\n## TEI Wrapper Setup\n\n1. **Why Use the Wrapper**\n   - Ollama-like hot-swapping with better performance\n   - Single model loaded at a time (lower memory)\n   - Pre-loading for near-zero switching time\n   - Enables full nomic-embed-code (7B) model\n\n2. **Installation**\n   - Build TEI wrapper: go build cmd/tei-wrapper\n   - Configure TEI binary path\n   - Set model preferences\n\n3. **Running the Wrapper**\n   - Start wrapper on port 11434 (Ollama-compatible)\n   - Wrapper manages TEI lifecycle automatically\n   - Monitor status and logs\n\n4. **Configuration**\n   - Model mappings (code vs text)\n   - Pre-loading settings\n   - Performance tuning\n\n## Background Daemon Setup\n\n1. **Why Use the Daemon**\n   - AI agents only search, never manually index\n   - Auto-reindex on file changes\n   - Always-fresh results\n   - Manual trigger still available\n\n2. **Installation**\n   - Already built-in to code-scout CLI\n   - No separate installation needed\n\n3. **Running the Daemon**\n   - Start: code-scout daemon start\n   - Stop: code-scout daemon stop\n   - Status: code-scout daemon status\n\n4. **Configuration**\n   - Debounce interval (default: 5s)\n   - File patterns to watch\n   - Indexing concurrency\n\n5. **AI Agent Integration**\n   - Agents only use 'code-scout search'\n   - Daemon handles indexing automatically\n   - Manual index still works for git hooks\n\n## Performance Comparison\n\n| Solution | Memory | Speed | Concurrency | UX |\n|----------|--------|-------|-------------|-----|\n| TEI (dual) | 8-16GB | Fastest | High | Manual switch |\n| TEI + Wrapper | 4-8GB | Fast | High | Auto-switch |\n| Ollama | 4-8GB | Slow | Low | Auto-switch |\n\n## Ollama Alternative\n\n1. **When to Use Ollama**\n   - Absolute simplest setup\n   - Small repos (\u003c100 files)\n   - Development/testing only\n\n2. **Ollama Limitations**\n   - Must use --workers 2 --batch-size 2\n   - 3-4x slower than TEI\n   - No real batching concurrency\n\n**Deliverables:**\n- Update docs/guides/TEI_SETUP.md - Cross-platform install, wrapper, daemon\n- Update docs/guides/OLLAMA_SETUP.md - Position as simple alternative\n- Create docs/guides/TEI_WRAPPER.md - Wrapper architecture and usage\n- Create docs/guides/BACKGROUND_DAEMON.md - Daemon setup and AI integration\n- Update README.md - TEI-first recommendation\n- Update DEVELOPERS.md - Add wrapper and daemon to dev setup","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-18T05:09:12.652495-08:00","updated_at":"2025-11-18T09:14:24.02141-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-a11","depends_on_id":"code_scout-scm","type":"discovered-from","created_at":"2025-11-18T05:09:12.65419-08:00","created_by":"jlanders"},{"issue_id":"code_scout-a11","depends_on_id":"code_scout-bgp","type":"blocks","created_at":"2025-11-18T05:09:12.654689-08:00","created_by":"jlanders"}]}
{"id":"code_scout-a85","content_hash":"22a476e5321c76a74a99936ce6e9d956aa0ce043585b57434f3ca4dd52740b08","title":"Add integration tests for each language","description":"Create end-to-end tests that index and search code in each supported language (Python, JS/TS, Java, Rust, C, C++, Ruby, PHP, Scala). Verify that semantic chunking works correctly for each language.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T05:53:58.730071-08:00","updated_at":"2025-11-17T14:21:00.127671-08:00","closed_at":"2025-11-17T14:21:00.127671-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-a85","depends_on_id":"code_scout-72w","type":"discovered-from","created_at":"2025-11-17T05:53:58.731685-08:00","created_by":"jlanders"}]}
{"id":"code_scout-ahu","content_hash":"db3ae3a90bd3af4ed3d244137b8625adaaa60129731ee346b225faf3bbebedcc","title":"Slice 6: Production Hardening","description":"Robust error handling, better UX, performance improvements, and production-ready features. Includes: incremental updates (done), progress indicators, content-based deduplication, file pattern filtering, relevance score thresholds, and other polish discovered during development.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-14T13:58:56.652472-06:00","updated_at":"2025-11-14T13:58:56.652472-06:00","source_repo":"."}
{"id":"code_scout-at1","content_hash":"6134defe6ad8948bc89aa7644cc95c09a9d4d84b8ef4fc0959b5b45939b964c4","title":"Support OpenRouter embeddings option","description":"Add first-class support for using OpenRouter as the remote embedding API. Document how to obtain an API key, configure code_scout via a local .code-scout.json, and run indexing/search through OpenRouter's free models. Update gitignore to exclude .code-scout.json and add a committed .code-scout.json.example template so keys are never leaked.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-17T17:27:10.506953-08:00","updated_at":"2025-11-17T18:29:18.951496-08:00","closed_at":"2025-11-17T18:29:18.951496-08:00","source_repo":"."}
{"id":"code_scout-bgp","content_hash":"32a0cf3695063833242611b0a4bc0621c2161ba0cc5a7bf1524592e116af27b5","title":"OBSOLETE: TGI wrapper not viable for Apple Silicon","description":"Originally planned to implement TGI OpenAI API wrapper for multi-model serving, but research shows TGI does not run on Apple Silicon (M2/M1/M3 Macs).\n\n**Why Obsolete:**\n- TGI requires CUDA or ROCm (NVIDIA/AMD GPUs)\n- Does not support Apple Metal\n- Cannot run on M2 MacBook\n\n**Alternative Solutions:**\n- TEI (Text Embeddings Inference) runs on M2 with Metal support\n- TEI already has OpenAI-compatible /v1/embeddings endpoint\n- No wrapper needed for TEI\n\n**Recommendation:**\nClose this issue and focus on TEI documentation instead.\n\nSee code_scout-scm for updated hosting options.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-18T05:08:40.378378-08:00","updated_at":"2025-11-18T06:36:19.411311-08:00","closed_at":"2025-11-18T06:36:19.411314-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-bgp","depends_on_id":"code_scout-scm","type":"discovered-from","created_at":"2025-11-18T05:08:40.379671-08:00","created_by":"jlanders"}]}
{"id":"code_scout-bqv","content_hash":"923c611d247d1fd002e11403e6f78e143b18f6022ab0d72e33863f573de5223a","title":"Slice 3a: Documentation Indexing (single model)","description":"Add markdown documentation indexing using the existing code embedding model. This proves the chunking/indexing pipeline works for non-code files before adding complexity of dual models.\n\nFeatures:\n- Scan for .md, .txt, .rst files\n- Markdown header-based chunking (H1/H2/H3)\n- Index docs using existing code-scout-code model\n- Search includes both code and docs\n- Update file scanner to detect doc files\n- Add doc-specific chunking logic\n\nSuccess criteria:\n- code-scout index now indexes .py, .go, and .md files\n- code-scout search 'architecture overview' finds README sections\n- code-scout search 'auth implementation' finds both code and docs","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-16T13:47:19.265849-08:00","updated_at":"2025-11-17T04:51:01.932205-08:00","closed_at":"2025-11-17T04:51:01.932205-08:00","source_repo":"."}
{"id":"code_scout-ce4","content_hash":"3e36517831ff1137c159b68c44fe4aa3e1b503871ada0286f721e8f281ec6870","title":"Test end-to-end documentation indexing and search","description":"Create comprehensive integration tests for Slice 3a completion.\n\nTest scenarios:\n- Index repo with .go, .py, and .md files\n- Verify all file types are detected and chunked\n- Search for code-specific queries (finds functions)\n- Search for doc-specific queries (finds README sections)\n- Search for hybrid queries (finds both code and docs)\n- Verify chunk metadata is correct for both types\n- Test with real-world markdown (nested headers, code blocks, etc.)\n\nSuccess criteria matches Slice 3a epic:\n- code-scout index indexes .py, .go, and .md files\n- code-scout search 'architecture overview' finds README sections\n- code-scout search 'auth implementation' finds both code and docs","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T13:49:05.782217-08:00","updated_at":"2025-11-16T19:42:27.678359-08:00","closed_at":"2025-11-16T19:42:27.678363-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-ce4","depends_on_id":"code_scout-bqv","type":"blocks","created_at":"2025-11-16T13:49:14.978225-08:00","created_by":"jlanders"},{"issue_id":"code_scout-ce4","depends_on_id":"code_scout-tj5","type":"blocks","created_at":"2025-11-16T13:49:20.6818-08:00","created_by":"jlanders"},{"issue_id":"code_scout-ce4","depends_on_id":"code_scout-luy","type":"blocks","created_at":"2025-11-16T13:49:26.382138-08:00","created_by":"jlanders"},{"issue_id":"code_scout-ce4","depends_on_id":"code_scout-9g5","type":"blocks","created_at":"2025-11-16T13:49:32.047581-08:00","created_by":"jlanders"}]}
{"id":"code_scout-cjx","content_hash":"c0d450ad7c90913ffeebb1ebaa1656c6175849263466d5774369d630a6d72df6","title":"Extract Go types and methods","description":"Write Tree-sitter query to identify Go type definitions (struct, interface). Extract type name, fields, and methods. Include type-level and method-level doc comments. Capture interface implementations. Associate methods with their receiver types in metadata.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-14T14:02:57.831995-06:00","updated_at":"2025-11-14T14:35:13.857095-06:00","closed_at":"2025-11-14T14:35:13.857095-06:00","source_repo":".","dependencies":[{"issue_id":"code_scout-cjx","depends_on_id":"code_scout-5wc","type":"parent-child","created_at":"2025-11-14T14:03:41.82696-06:00","created_by":"jlanders"},{"issue_id":"code_scout-cjx","depends_on_id":"code_scout-03p","type":"blocks","created_at":"2025-11-14T14:04:21.757304-06:00","created_by":"jlanders"}]}
{"id":"code_scout-fuh","content_hash":"4ee36b95b39480a46bc52f0cbe31f22147ff88a6dcb49b8669fb60b3c1006378","title":"Update README with language support matrix","description":"Document all supported languages in the main README.md. Add a language support matrix showing file extensions, semantic chunking support, and status for each of the 11 languages.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-17T05:54:09.083064-08:00","updated_at":"2025-11-17T14:27:15.81951-08:00","closed_at":"2025-11-17T14:27:15.81951-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-fuh","depends_on_id":"code_scout-72w","type":"discovered-from","created_at":"2025-11-17T05:54:09.084446-08:00","created_by":"jlanders"}]}
{"id":"code_scout-luy","content_hash":"a7612ac3e4c6c956dee0dfb024d18b202d964f70dda2e84a1356e1d2e29f6f58","title":"Update semantic chunker to handle documentation files","description":"Extend internal/chunker/semantic.go to route documentation files to markdown chunker.\n\nImplementation:\n- Update ChunkFile() to detect doc file types\n- Route .md/.txt/.rst to markdown chunker\n- Keep existing tree-sitter path for code files\n- Ensure consistent Chunk struct output from both paths\n- Add integration tests for mixed code+docs indexing","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T13:48:17.869163-08:00","updated_at":"2025-11-17T04:50:50.086245-08:00","closed_at":"2025-11-17T04:50:50.086245-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-luy","depends_on_id":"code_scout-bqv","type":"blocks","created_at":"2025-11-16T13:48:27.264592-08:00","created_by":"jlanders"},{"issue_id":"code_scout-luy","depends_on_id":"code_scout-22p","type":"blocks","created_at":"2025-11-16T13:48:32.942832-08:00","created_by":"jlanders"}]}
{"id":"code_scout-mhg","content_hash":"5ccb1cc0410224f8eaacab59c9bc76c77a63d59f8727b0a116c00ad764b15d0c","title":"Test dual-model search quality improvement","description":"Create comprehensive tests for Slice 3b completion and measure search quality improvement.\n\nTest scenarios:\n- Index repo with code and docs using dual models\n- Verify code chunks use 3584-dim embeddings\n- Verify docs chunks use 768-dim embeddings\n- Test --code mode: queries for functions return only code\n- Test --docs mode: queries for architecture return only docs\n- Test --hybrid mode: comprehensive queries return both\n- Measure relevance score improvements for doc-specific queries\n- Compare single-model vs dual-model search quality\n\nSuccess criteria matches Slice 3b epic:\n- code-scout search 'architecture overview' --docs finds docs only\n- code-scout search 'parse_config function' --code finds code only\n- code-scout search 'how does auth work' returns both with good relevance\n- Documentation queries show measurably better results with text model","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T13:52:31.083409-08:00","updated_at":"2025-11-17T04:55:32.152273-08:00","closed_at":"2025-11-17T04:55:32.152273-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-mhg","depends_on_id":"code_scout-w9i","type":"blocks","created_at":"2025-11-16T13:52:40.738416-08:00","created_by":"jlanders"},{"issue_id":"code_scout-mhg","depends_on_id":"code_scout-4he","type":"blocks","created_at":"2025-11-16T13:52:46.401451-08:00","created_by":"jlanders"}]}
{"id":"code_scout-o5g","content_hash":"1933f6c641209de21c7123f6691ba1831b5da678c2539a5b46bba1ce937d5d48","title":"Write Tree-sitter query files for all languages","description":"Create Tree-sitter query files to extract functions, classes, methods, and types for Python, JavaScript/TypeScript, Java, Rust, C, C++, Ruby, PHP, and Scala. Each language needs a .scm query file in internal/parser/queries/.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-17T05:53:35.380073-08:00","updated_at":"2025-11-17T06:01:55.893102-08:00","closed_at":"2025-11-17T06:01:55.893102-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-o5g","depends_on_id":"code_scout-72w","type":"discovered-from","created_at":"2025-11-17T05:53:35.382567-08:00","created_by":"jlanders"}]}
{"id":"code_scout-p5u","content_hash":"5bb54fd5c4b5bfd89dd12e7ad829a6b4e9a53fde3f07470fbd56e4febca098f6","title":"Create comprehensive test language files for multi-language chunker","description":"Create comprehensive test files for all supported languages (Python, JavaScript, TypeScript, Java, Rust, C, C++, Ruby, PHP, Scala) to verify semantic chunking works correctly. Each file should include functions, classes, methods, and language-specific constructs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-17T10:47:52.856617-08:00","updated_at":"2025-11-17T14:10:24.6835-08:00","closed_at":"2025-11-17T14:10:24.6835-08:00","source_repo":"."}
{"id":"code_scout-qe4","content_hash":"b95f21ab9da321b17b6cda64754ecd70d384141088c0fc0ec11b796e21c34326","title":"Add context metadata to chunks","description":"Extract import statements and associate them with chunks. Capture parent class/function context for nested definitions. Add 'chunk_type' field (function|class|method). Store language-specific metadata. Include surrounding context window (configurable lines before/after).","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-14T14:03:03.755788-06:00","updated_at":"2025-11-14T14:41:54.214997-06:00","closed_at":"2025-11-14T14:41:54.214997-06:00","source_repo":".","dependencies":[{"issue_id":"code_scout-qe4","depends_on_id":"code_scout-5wc","type":"parent-child","created_at":"2025-11-14T14:03:47.733448-06:00","created_by":"jlanders"},{"issue_id":"code_scout-qe4","depends_on_id":"code_scout-03p","type":"blocks","created_at":"2025-11-14T14:04:27.684308-06:00","created_by":"jlanders"}]}
{"id":"code_scout-scm","content_hash":"80f2570e9ab69e9e93ae03723f0b02f65f676c305031d4f87506edf44365e0ba","title":"Document TEI-first self-hosting strategy and architecture","description":"Document the preferred self-hosting architecture for Code Scout using TEI (Text Embeddings Inference) as the recommended solution for all platforms.\n\n**Research Findings:**\n\n## TEI is the Preferred Self-Hosting Solution\n\n**Why TEI for All Platforms:**\n1. **Mac (Apple Silicon)** - Metal acceleration, still fastest option despite no CUDA\n2. **Linux/Windows with NVIDIA GPU** - Blazingly fast with CUDA acceleration\n3. **Purpose-built for embeddings** - Outperforms vLLM for embedding workloads\n4. **Cross-platform** - Single solution works everywhere\n\n## Ollama Trade-offs\n\n**Still viable but with caveats:**\n- Simple setup, auto model switching\n- **Performance issue:** No real concurrency for batching\n- Model switching overhead significant with batches\n- Best for: Small repos, development, simplicity over speed\n\n## TEI Wrapper Solution\n\n**Emulate Ollama's hot-swap feature:**\n- Thin wrapper around TEI detects model switch needs\n- Auto-loads document model when code pass completes\n- **Bonus:** Pre-loads code model in background after docs pass\n- Enables use of full nomic-embed-code (7B) model\n- Better performance than Ollama with same UX\n\n## Background Embedding Daemon\n\n**Improved AI Agent UX:**\n- Run embedding in background loop (file watcher)\n- AI agents only use search, never trigger indexing\n- Auto-reindex on file changes (debounced)\n- Keep manual CLI trigger for git hooks, manual control\n- Daemon manages TEI wrapper lifecycle\n\n**Cloud Hosting:**\n- Still an option via OpenAI-compatible providers\n- Most don't host nomic-ai models (paid alternatives)\n\n**Documentation Tasks:**\n- Update TEI_SETUP.md for cross-platform (CUDA + Metal)\n- Document TEI wrapper architecture and rationale\n- Document background daemon design\n- Update README with TEI-first recommendation\n- Explain performance: TEI \u003e Ollama, why not vLLM","status":"open","priority":2,"issue_type":"chore","created_at":"2025-11-17T17:26:59.115237-08:00","updated_at":"2025-11-18T09:12:11.276132-08:00","source_repo":"."}
{"id":"code_scout-t7a","content_hash":"0946a5c819234a24bbceadd5436767556020ebd4e223646a41e4886932018881","title":"Implement two-pass embedding pipeline","description":"Modify indexing command to generate embeddings in two passes using different models.\n\nImplementation in cmd/code-scout/index.go:\n- Pass 1: Filter chunks by embedding_type='code', embed with code-scout-code model\n- Pass 2: Filter chunks by embedding_type='docs', embed with code-scout-text model\n- Update worker pool to handle model switching\n- Preserve deduplication logic for each pass separately\n- Report progress per pass ('Generating code embeddings...', 'Generating doc embeddings...')\n- Handle different vector dimensions (3584 for code, 768 for text)\n\nNote: This requires LanceDB to support mixed-dimension vectors or separate columns.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T13:50:53.504545-08:00","updated_at":"2025-11-17T04:55:14.300385-08:00","closed_at":"2025-11-17T04:55:14.300385-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-t7a","depends_on_id":"code_scout-w9i","type":"blocks","created_at":"2025-11-16T13:51:02.841262-08:00","created_by":"jlanders"},{"issue_id":"code_scout-t7a","depends_on_id":"code_scout-9e0","type":"blocks","created_at":"2025-11-16T13:51:08.506299-08:00","created_by":"jlanders"},{"issue_id":"code_scout-t7a","depends_on_id":"code_scout-22i","type":"blocks","created_at":"2025-11-16T13:51:14.169059-08:00","created_by":"jlanders"}]}
{"id":"code_scout-tj5","content_hash":"70991034d7f039a0c6d7535dc0af549677c8fb6c9ba73b57bae887a56a2d7a4a","title":"Detect documentation file types in scanner","description":"Update internal/scanner/scanner.go to detect documentation files (.md, .txt, .rst) alongside code files. Add language detection for documentation types.\n\nImplementation:\n- Extend detectLanguage() to recognize .md, .txt, .rst extensions\n- Return 'markdown', 'text', 'rst' as language identifiers\n- Ensure scanner respects .code-scout-ignore for docs\n- Add tests for doc file detection","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T13:47:31.019214-08:00","updated_at":"2025-11-16T14:19:10.489084-08:00","closed_at":"2025-11-16T14:19:10.489084-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-tj5","depends_on_id":"code_scout-bqv","type":"blocks","created_at":"2025-11-16T13:47:44.226973-08:00","created_by":"jlanders"}]}
{"id":"code_scout-w9i","content_hash":"34ea1879fabac8d1f080979fc97706a74d903d47eae0342b4afe5807f06b4c09","title":"Slice 3b: Dual-Model Architecture","description":"Add second embedding model for documentation and implement search modes. This completes the dual-model vision with optimized embeddings for each domain.\n\nFeatures:\n- Second embedding model (code-scout-text) for documentation\n- Two-pass embedding pipeline (code model for code, text model for docs)\n- Search modes: --code, --docs, --hybrid (default)\n- Dual-query retrieval logic (query both models, merge results)\n- Update vector storage to track embedding_type per chunk\n- Create code-scout-text Ollama model from nomic-embed-text\n\nSuccess criteria:\n- code-scout search 'architecture overview' --docs uses text model only\n- code-scout search 'parse_config function' --code uses code model only\n- code-scout search 'how does auth work' (hybrid) queries both models\n- Significant search quality improvement for docs queries","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-16T13:49:47.898803-08:00","updated_at":"2025-11-17T04:55:38.03404-08:00","closed_at":"2025-11-17T04:55:38.03404-08:00","source_repo":".","dependencies":[{"issue_id":"code_scout-w9i","depends_on_id":"code_scout-bqv","type":"blocks","created_at":"2025-11-16T13:49:57.259234-08:00","created_by":"jlanders"}]}
{"id":"code_scout-z59","content_hash":"e6ff557ccc0fb1d1321f531783a1effeb98dcda512d570a6fa5ef52640e73967","title":"Test semantic chunking on code-scout itself","description":"Index this code-scout project itself (real Go codebase). Compare search results between naive and semantic chunking. Verify functions/structs/interfaces are complete semantic units. Document edge cases (embedded types, generic functions, build tags). Validate line number accuracy and metadata correctness.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T14:03:15.572876-06:00","updated_at":"2025-11-14T14:53:36.382899-06:00","closed_at":"2025-11-14T14:53:36.382899-06:00","source_repo":".","dependencies":[{"issue_id":"code_scout-z59","depends_on_id":"code_scout-5wc","type":"parent-child","created_at":"2025-11-14T14:03:59.414483-06:00","created_by":"jlanders"},{"issue_id":"code_scout-z59","depends_on_id":"code_scout-3z7","type":"blocks","created_at":"2025-11-14T14:04:50.675622-06:00","created_by":"jlanders"}]}
